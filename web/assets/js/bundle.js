!function n(s,r,c){function a(t,e){if(!r[t]){if(!s[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(l)return l(t,!0);throw new Error("Cannot find module '"+t+"'")}var i=r[t]={exports:{}};s[t][0].call(i.exports,function(e){var o=s[t][1][e];return a(o||e)},i,i.exports,n,s,r,c)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)a(c[e]);return a}({1:[function(e,o,t){$(document).ready(function(){$(".close").click(function(){return parent.history.back(),!1});$(".sideways-bar-info"),$(".info-circle");var e=$(".right-info"),o=($(".sideways-bar-project"),$(".project-wrapper")),t=($(".sideways"),$(".left")),i=($(".pop-up-image img"),$(".closer"));function n(e){$(e).addClass("open")}function s(e){$(e).removeClass("open")}function r(e){$(e).toggleClass("opacity")}function c(e){$(e).removeClass("opacity")}function a(e){$(e).toggleClass("nudge")}function l(e){$(e).toggleClass("blur")}function p(){$(".project-list-item").removeClass("selected"),$(".sideways-title").addClass("move"),window.setTimeout(function(){r(".project-loadspot"),$(".sideways-title").addClass("stay")},750),$(".project-wrapper").hasClass("open")?c(".project-loadspot"):n(o),parseInt($(window).width())<1024&&(r(i),l(t))}$(window).on("resize",function(){1024<=$(this).width()&&(c(i),$(t).removeClass("blur"))}),$(document).on({mouseenter:function(){a(".right-info")},mouseleave:function(){a(".right-info")}},".sideways-bar-info",".sideways-bar-project"),$(document).on({mouseenter:function(){a(".project-wrapper")},mouseleave:function(){a(".project-wrapper")}},".sideways-bar-project"),$(".sideways-bar-info, .info-circle").on("click",function(){$(e).toggleClass("open"),c(".project-loadspot"),parseInt($(window).width())<1024&&(r(i),l(t),$("body").toggleClass("stopper"))}),$(document).on("click",".info-link",function(){c(".project-loadspot"),n(e),s(o),$(".project-list-item").removeClass("selected")}),$(document).on("click","header",function(){c(".project-loadspot"),s(o),$(".project-list-item").removeClass("selected"),$("video").each(function(){$(this).get(0).pause()})}),$(document).on("click",".closer, .close-circle",function(){c(".project-loadspot"),s(o),s(e),r(i),l(t),$(".project-list-item").removeClass("selected"),$("body").removeClass("stopper"),$("video").each(function(){$(this).get(0).pause()})}),$(".project-list-item").click(function(e){$(this).hasClass("hide-me")?e.preventDefault():(e.preventDefault(),p(),$(this).toggleClass("selected"),$(".project-wrapper").load($(this).attr("href")))}),$(".pop-up-image img").dblclick(function(e){$(this).hasClass("hide-me")?e.preventDefault():(e.preventDefault(),p(),$(this).toggleClass("selected"),$(".project-wrapper").load($(this).attr("href")))});var d=0;$(document).on({mouseenter:function(){if(!$(".project-wrapper").hasClass("open")&&!$(".right-info").hasClass("open")&&900<parseInt($(window).width())){var e=$(this).attr("id");d++,$("."+e+" img").addClass("show-image"),$("."+e).css("z-index",d),$(".circle").addClass("hide")}},mouseleave:function(){}},".project-list-item"),$(document).on({mouseenter:function(){d++,$(this).css("z-index",d)}},".pop-up-image"),$(".pop-up-image img").each(function(e,o){var t=$(".selected-work-images").width(),i=$(".selected-work-images").height(),n=Math.floor(Math.random()*(.5*t)),s=Math.floor(Math.random()*(.75*i));$(o).css({left:n,top:s})}),$(".pop-up-image img").draggable({containment:".selected-work-images",scroll:!1,cursor:"move"}),$(document).on("click",".clear-circle",function(){$(".pop-up-image img").removeClass("show-image"),$(".circle").removeClass("hide")});var u=document.querySelectorAll(".tooltip span");window.onmousemove=function(e){for(var o=e.clientX-60+"px",t=e.clientY-30+"px",i=0;i<u.length;i++)u[i].style.top=t,u[i].style.left=o},$(document).ajaxComplete(function(){$(".video-container").each(function(){var e=$(this).find("video"),o=e.get(0),t=$(this).find("button"),i=$(this).find(".video-controls");t.click(function(){1==o.paused?(e.get(0).play(),$(t).children(".play").hide(),$(t).children(".pause").show(),$(i).toggleClass("hide-controls")):(e.get(0).pause(),$(t).children(".play").show(),$(t).children(".pause").hide(),$(i).removeClass("hide-controls"))}),e.on("ended",function(){$(t).children(".play").show(),$(t).children(".pause").hide(),$(i).removeClass("hide-controls")})})})})},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiRXJyb3IiLCJmIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjbGljayIsInBhcmVudCIsImhpc3RvcnkiLCJiYWNrIiwiJGluZm8iLCIkcHJvamVjdCIsIiRsZWZ0IiwiJGNsb3NlciIsIm9wZW4iLCJhZGRDbGFzcyIsImNsb3NlIiwicmVtb3ZlQ2xhc3MiLCJvcGFjaXR5IiwidG9nZ2xlQ2xhc3MiLCJyZW1vdmVPcGFjaXR5IiwibnVkZ2UiLCJibHVyIiwicHJvamVjdE9wZW5lciIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJoYXNDbGFzcyIsInBhcnNlSW50Iiwid2lkdGgiLCJvbiIsInRoaXMiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsImVhY2giLCJnZXQiLCJwYXVzZSIsInByZXZlbnREZWZhdWx0IiwibG9hZCIsImF0dHIiLCJkYmxjbGljayIsImNvdW50ZXIiLCJ0aXRsZSIsImNzcyIsImVsIiwiZGl2V2lkdGgiLCJkaXZIZWlnaHQiLCJoZWlnaHQiLCJyYW5kUG9zWCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRQb3NZIiwibGVmdCIsInRvcCIsImRyYWdnYWJsZSIsImNvbnRhaW5tZW50Iiwic2Nyb2xsIiwiY3Vyc29yIiwidG9vbHRpcHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwib25tb3VzZW1vdmUiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwic3R5bGUiLCJhamF4Q29tcGxldGUiLCJ2aWRlbyIsImZpbmQiLCJwbGFpblZpZGVvIiwicGxheUJ0biIsImNvbnRyb2xzIiwicGF1c2VkIiwicGxheSIsImNoaWxkcmVuIiwiaGlkZSIsInNob3ciXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsU0FB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RXZCRyxFQUFXcEUsRUFBRTJCLE1BQU1zQyxLQUFLLG1CQUU1QkUsRUFBUWhFLE1BQU0sV0FDYSxHQUFyQitELEVBQVdHLFFBQ2JMLEVBQU1qQyxJQUFJLEdBQUd1QyxPQUNidEUsRUFBRW1FLEdBQVNJLFNBQVMsU0FBU0MsT0FDN0J4RSxFQUFFbUUsR0FBU0ksU0FBUyxVQUFVRSxPQUM5QnpFLEVBQUVvRSxHQUFVcEQsWUFBWSxtQkFFeEJnRCxFQUFNakMsSUFBSSxHQUFHQyxRQUNiaEMsRUFBRW1FLEdBQVNJLFNBQVMsU0FBU0UsT0FDN0J6RSxFQUFFbUUsR0FBU0ksU0FBUyxVQUFVQyxPQUM5QnhFLEVBQUVvRSxHQUFVdEQsWUFBWSxvQkFJNUJrRCxFQUFNdEMsR0FBRyxRQUFRLFdBQ2YxQixFQUFFbUUsR0FBU0ksU0FBUyxTQUFTRSxPQUM3QnpFLEVBQUVtRSxHQUFTSSxTQUFTLFVBQVVDLE9BQzlCeEUsRUFBRW9FLEdBQVV0RCxZQUFZLDBCQW1COUIsS0FBSyxHQUFHLENBQUMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBCYWNrIGJ1dHRvbi4gQ2xvc2UsIHVwZGF0ZSBVUkwgJiBwcmVzcnZlIHBhZ2UgcG9zaXRpb25cbiAgJCgnLmNsb3NlJykuY2xpY2soZnVuY3Rpb24oKXtcblx0XHRwYXJlbnQuaGlzdG9yeS5iYWNrKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gU2xpZGVyIGhvdmVyIGFuZCBvcGVuIHN0YXRlc1xuICB2YXIgJGluZm9CYXIgPSAkKCcuc2lkZXdheXMtYmFyLWluZm8nKTtcbiAgdmFyICRpbmZvQnV0dG9uID0gJCgnLmluZm8tY2lyY2xlJyk7XG4gIHZhciAkaW5mbyA9ICQoJy5yaWdodC1pbmZvJyk7XG4gIHZhciAkcHJvamVjdEJhciA9ICQoJy5zaWRld2F5cy1iYXItcHJvamVjdCcpO1xuICB2YXIgJHByb2plY3QgPSAkKCcucHJvamVjdC13cmFwcGVyJyk7XG4gIHZhciAkc2lkZXdheXMgPSAkKCcuc2lkZXdheXMnKTtcbiAgdmFyICRsZWZ0ID0gJCgnLmxlZnQnKTtcbiAgdmFyICRwb3BJbWFnZSA9ICQoJy5wb3AtdXAtaW1hZ2UgaW1nJyk7XG4gIHZhciAkY2xvc2VyID0gJCgnLmNsb3NlcicpO1xuXG4gIGZ1bmN0aW9uIG9wZW4oaSl7XG4gICAgJChpKS5hZGRDbGFzcygnb3BlbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlT3BlbihpKXtcbiAgICAkKGkpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZShpKXtcbiAgICAkKGkpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gIH1cblxuICBmdW5jdGlvbiBvcGFjaXR5KGkpe1xuICAgICQoaSkudG9nZ2xlQ2xhc3MoJ29wYWNpdHknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZU9wYWNpdHkoaSl7XG4gICAgJChpKS5yZW1vdmVDbGFzcygnb3BhY2l0eScpO1xuICB9XG5cbiAgZnVuY3Rpb24gbnVkZ2UoaSl7XG4gICAgJChpKS50b2dnbGVDbGFzcygnbnVkZ2UnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJsdXIoaSl7XG4gICAgJChpKS50b2dnbGVDbGFzcygnYmx1cicpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQmx1cihpKXtcbiAgICAkKGkpLnJlbW92ZUNsYXNzKCdibHVyJyk7XG4gIH1cblxuXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oKXtcbiAgICAgIHZhciB3aW4gPSAkKHRoaXMpOyAvL3RoaXMgPSB3aW5kb3dcblxuICAgICAgaWYgKHdpbi53aWR0aCgpID49IDEwMjQpIHtcbiAgICAgICAgcmVtb3ZlT3BhY2l0eSgkY2xvc2VyKTtcbiAgICAgICAgcmVtb3ZlQmx1cigkbGVmdCk7XG4gICAgICB9XG59KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gSG92ZXIgc3RhdGVzIGFuZCBjbGlja3MgZm9yIG1lbnUuIEhhdmUgdG8gYmUgd3JpdHRlbiBsaWtlIHRoaXMgdG8gd29yayB3aXRoIEFKWCBjYWxscyBsYXRlclxuICAvLyBEb2N1bWVudCAub24gd29ya3Mgd2l0aCBBSkFYXG4gIC8vIEhvdmVyIHN0YXRlc1xuICAkKGRvY3VtZW50KS5vbih7XG4gICAgbW91c2VlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBudWRnZSgnLnJpZ2h0LWluZm8nKTtcbiAgICB9LFxuICAgIG1vdXNlbGVhdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbnVkZ2UoJy5yaWdodC1pbmZvJyk7XG4gICAgfVxuICB9LCAnLnNpZGV3YXlzLWJhci1pbmZvJywgJy5zaWRld2F5cy1iYXItcHJvamVjdCcgKTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gSG92ZXIgbnVkZ2VzXG4gICQoZG9jdW1lbnQpLm9uKHtcbiAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG51ZGdlKCcucHJvamVjdC13cmFwcGVyJyk7XG4gICAgfSxcbiAgICBtb3VzZWxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG51ZGdlKCcucHJvamVjdC13cmFwcGVyJyk7XG4gICAgfVxuICB9LCAnLnNpZGV3YXlzLWJhci1wcm9qZWN0JyApO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBDbGljayBzbGlkZXJzIGZvciBpbmZvcm1hdGlvblxuICAkKCcuc2lkZXdheXMtYmFyLWluZm8sIC5pbmZvLWNpcmNsZScpLm9uKCdjbGljaycsICBmdW5jdGlvbiAoKSB7XG4gICAgdG9nZ2xlT3BlbigkaW5mbyk7XG4gICAgcmVtb3ZlT3BhY2l0eSgnLnByb2plY3QtbG9hZHNwb3QnKTtcbiAgICAgIGlmIChwYXJzZUludCgkKHdpbmRvdykud2lkdGgoKSkgPCAxMDI0KSB7XG4gICAgICAgIG9wYWNpdHkoJGNsb3Nlcik7XG4gICAgICAgIGJsdXIoJGxlZnQpO1xuICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ3N0b3BwZXInKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvL0NsaWNrIHNsaWRlcnMgZm9yIGluZm9ybWF0aW9uICsgY2xvc2UgcHJvamVjdFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmluZm8tbGluaycsIGZ1bmN0aW9uICgpIHtcbiAgICByZW1vdmVPcGFjaXR5KCcucHJvamVjdC1sb2Fkc3BvdCcpO1xuICAgIG9wZW4oJGluZm8pO1xuICAgIGNsb3NlKCRwcm9qZWN0KTtcbiAgICAkKCcucHJvamVjdC1saXN0LWl0ZW0nKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgIC8vIGlmIChwYXJzZUludCgkKHdpbmRvdykud2lkdGgoKSkgPCA3NjgpIHtcbiAgICAgIC8vICAgYmx1cigkbGVmdCk7XG4gICAgICAvLyB9XG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBDbGljayBoZWFkZXIgdG8gY2xvc2UgcHJvamVjdFxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnaGVhZGVyJywgZnVuY3Rpb24gKCkge1xuICAgIHJlbW92ZU9wYWNpdHkoJy5wcm9qZWN0LWxvYWRzcG90Jyk7XG4gICAgY2xvc2UoJHByb2plY3QpO1xuICAgICQoJy5wcm9qZWN0LWxpc3QtaXRlbScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICQoJ3ZpZGVvJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcykuZ2V0KDApLnBhdXNlKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBDbGljayBjbG9zZXIgdG8gY2xvc2UgdGhpbmdzXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2xvc2VyLCAuY2xvc2UtY2lyY2xlJywgZnVuY3Rpb24gKCkge1xuICAgIHJlbW92ZU9wYWNpdHkoJy5wcm9qZWN0LWxvYWRzcG90Jyk7XG4gICAgY2xvc2UoJHByb2plY3QpO1xuICAgIGNsb3NlKCRpbmZvKTtcbiAgICBvcGFjaXR5KCRjbG9zZXIpO1xuICAgIGJsdXIoJGxlZnQpO1xuICAgICQoJy5wcm9qZWN0LWxpc3QtaXRlbScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnc3RvcHBlcicpO1xuICAgICQoJ3ZpZGVvJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcykuZ2V0KDApLnBhdXNlKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHByb2plY3RPcGVuZXIoKXtcbiAgICAvLyBVcGRhdGUgbGlzdCBpdGVtIGFjdGl2ZSBzdGF0ZXNcbiAgICAkKCcucHJvamVjdC1saXN0LWl0ZW0nKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAvLyBNYWtlIHRpdGxlIHNsaWRlIG91dFxuICAgICQoJy5zaWRld2F5cy10aXRsZScpLmFkZENsYXNzKCdtb3ZlJyk7XG4gICAgLy8gRGVsYXkgaW1hZ2VzIGxvYWRpbmcgZm9yIGFlc3RoZXRpY3NcbiAgICB2YXIgbG9hZERlbGF5O1xuICAgIGxvYWREZWxheSA9ICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBvcGFjaXR5KCcucHJvamVjdC1sb2Fkc3BvdCcpO1xuICAgICAgLy8gTWFrZSB0aXRsZSBzbGlkZSBpblxuICAgICAgJCgnLnNpZGV3YXlzLXRpdGxlJykuYWRkQ2xhc3MoJ3N0YXknKTtcbiAgICB9LCA3NTApO1xuICAgICAgLy8gSWYgc2xpZGVyIGlzIG5vdCBvcGVuXG4gICAgaWYgKCEkKCcucHJvamVjdC13cmFwcGVyJykuaGFzQ2xhc3MoJ29wZW4nKSl7XG4gICAgICAgIC8vIE9wZW4gdGhlIFNsaWRlclxuICAgICAgICBvcGVuKCRwcm9qZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFN0b3AgZGVmYXVsdCBhY3Rpb25cbiAgICAgICAgcmVtb3ZlT3BhY2l0eSgnLnByb2plY3QtbG9hZHNwb3QnKTtcbiAgICAgICAgfVxuICAgIGlmIChwYXJzZUludCgkKHdpbmRvdykud2lkdGgoKSkgPCAxMDI0KSB7XG4gICAgICBvcGFjaXR5KCRjbG9zZXIpO1xuICAgICAgYmx1cigkbGVmdCk7XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFByb2plY3QgbGlzdCBvcGVuIHNsaWRlciwgbG9hZCBwcm9qZWN0XG4gICQoJy5wcm9qZWN0LWxpc3QtaXRlbScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnaGlkZS1tZScpKXtcbiAgICAgIC8vIFN0b3AgZGVmYXVsdCBhY3Rpb25cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgIC8vIFN0b3AgZGVmYXVsdCBhY3Rpb25cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gUnVuIHRoZSBmdW5jdGlvblxuICAgIHByb2plY3RPcGVuZXIoKTtcbiAgICAvLyB1cGRhdGUgdGhlIGxpbmtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgIC8vIFRha2UgdGhpcyBsaW5rcyBIUkVmIGFuZCBsb2FkIGl0IGludG8gZGl2XG4gICAgJCgnLnByb2plY3Qtd3JhcHBlcicpLmxvYWQoJCh0aGlzKS5hdHRyKCdocmVmJykpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gUHJvamVjdCBsaXN0IG9wZW4gc2xpZGVyLCBsb2FkIHByb2plY3RcbiAgJCgnLnBvcC11cC1pbWFnZSBpbWcnKS5kYmxjbGljayhmdW5jdGlvbihlKSB7XG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2hpZGUtbWUnKSl7XG4gICAgICAvLyBTdG9wIGRlZmF1bHQgYWN0aW9uXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAvLyBTdG9wIGRlZmF1bHQgYWN0aW9uXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vIFJ1biB0aGUgZnVuY3Rpb25cbiAgICBwcm9qZWN0T3BlbmVyKCk7XG4gICAgLy8gdXBkYXRlIHRoZSBsaW5rXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAvLyBUYWtlIHRoaXMgbGlua3MgSFJFZiBhbmQgbG9hZCBpdCBpbnRvIGRpdlxuICAgICQoJy5wcm9qZWN0LXdyYXBwZXInKS5sb2FkKCQodGhpcykuYXR0cignaHJlZicpKTtcbiAgfVxuICB9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEhvdmVyIGZvciBpbWFnZSBwb3AgdXBcbi8vIEZpcnN0LCBjcmVhdGUgYSBjb3VudGVyIHRvIGhvbGQgei1pbmRleCB2YWx1ZXNcbnZhciBjb3VudGVyID0gMDtcbi8vIEhvdmVyIGZ1bmN0aW9uICh1c2luZyAub24gdG8gd29yayB3aXRoIEFKQVggY2FsbHMpXG4gICQoZG9jdW1lbnQpLm9uKHtcbiAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoISQoJy5wcm9qZWN0LXdyYXBwZXInKS5oYXNDbGFzcygnb3BlbicpICYmICEkKCcucmlnaHQtaW5mbycpLmhhc0NsYXNzKCdvcGVuJykgKXtcbiAgICAgICAgaWYgKHBhcnNlSW50KCQod2luZG93KS53aWR0aCgpKSA+IDkwMCkge1xuICAgICAgICAgIC8vIEdldCBob3ZlcidkIElEXG4gICAgICAgICAgdmFyIHRpdGxlID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgIC8vIEluY3JlYXNlIGNvdW50ZXJcbiAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgICAgLy8gU2hvdyBpbWFnZSwgaW5jcmVhc2Ugei1pbmRleCwgaGlkZSBjaXJjbGVcbiAgICAgICAgICAkKCcuJyArIHRpdGxlICsgJyBpbWcnKS5hZGRDbGFzcygnc2hvdy1pbWFnZScpO1xuICAgICAgICAgICQoJy4nICsgdGl0bGUpLmNzcygnei1pbmRleCcsIGNvdW50ZXIgKTtcbiAgICAgICAgICAkKCcuY2lyY2xlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgbW91c2VsZWF2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gJCh0aGlzKS5maW5kKCcucG9wLXVwLWltYWdlIGltZycpLmhpZGUoKTtcbiAgICB9XG4gIH0sICcucHJvamVjdC1saXN0LWl0ZW0nICk7XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBIb3ZlciBmdW5jdGlvbiB0byBpbmNyZWFzZSB6LWluZGV4IG9mIHBvcCB1cCBpbWFnZXNcbiAgICAkKGRvY3VtZW50KS5vbih7XG4gICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY291bnRlcisrO1xuICAgICAgICAgICQodGhpcykuY3NzKCd6LWluZGV4JywgY291bnRlciApO1xuICAgICAgfVxuICAgIH0sICcucG9wLXVwLWltYWdlJyApO1xuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gUmFuZG9tIHBvc2l0aW9uIG9mIHBvcCB1cCBpbWFnZXNcbiAgJCgnLnBvcC11cC1pbWFnZSBpbWcnKS5lYWNoKGZ1bmN0aW9uKGksIGVsKXtcbiAgICB2YXIgZGl2V2lkdGggPSAkKCcuc2VsZWN0ZWQtd29yay1pbWFnZXMnKS53aWR0aCgpO1xuICAgIHZhciBkaXZIZWlnaHQgPSAkKCcuc2VsZWN0ZWQtd29yay1pbWFnZXMnKS5oZWlnaHQoKTtcbiAgICB2YXIgcmFuZFBvc1ggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKGRpdldpZHRoICogMC41KSkpO1xuICAgIHZhciByYW5kUG9zWSAgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKGRpdkhlaWdodCAqIDAuNzUpKSk7XG4gICAgJChlbCkuY3NzKHtsZWZ0OiByYW5kUG9zWCwgdG9wOiByYW5kUG9zWX0pO1xuICB9KTtcblxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIERyYWdnYWJsZSBwb3AgdXAgaW1hZ2VzXG4gICQoJy5wb3AtdXAtaW1hZ2UgaW1nJykuZHJhZ2dhYmxlKHsgY29udGFpbm1lbnQ6IFwiLnNlbGVjdGVkLXdvcmstaW1hZ2VzXCIsIHNjcm9sbDogZmFsc2UsIGN1cnNvcjogXCJtb3ZlXCIgfSk7XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gQ2xpY2sgY2xlYXItY2lybGUgZm9yIHRvIHJlbW92ZSBwb3AgdXAgaW1hZ2VzXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2xlYXItY2lyY2xlJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5wb3AtdXAtaW1hZ2UgaW1nJykucmVtb3ZlQ2xhc3MoJ3Nob3ctaW1hZ2UnKTtcbiAgICAkKCcuY2lyY2xlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgfSk7XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVG9vbHRpcCBob3ZlclxuICB2YXIgdG9vbHRpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcCBzcGFuJyk7XG4gIC8vIHZhciBpbWdUb29sdGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3AtdXAtaW1hZ2Ugc3BhbicpO1xuXG4gIHdpbmRvdy5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgeCA9IChlLmNsaWVudFggLSA2MCkgKyAncHgnLFxuICAgICAgICAgIHkgPSAoZS5jbGllbnRZIC0gMzApICsgJ3B4JztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9vbHRpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0b29sdGlwc1tpXS5zdHlsZS50b3AgPSB5O1xuICAgICAgICAgIHRvb2x0aXBzW2ldLnN0eWxlLmxlZnQgPSB4O1xuICAgICAgfVxuICB9O1xuXG4gICQoZG9jdW1lbnQpLmFqYXhDb21wbGV0ZShmdW5jdGlvbiAoKSB7XG5cbiAgICAkKFwiLnZpZGVvLWNvbnRhaW5lclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2aWRlbyA9ICQodGhpcykuZmluZChcInZpZGVvXCIpO1xuICAgICAgdmFyIHBsYWluVmlkZW8gPSB2aWRlby5nZXQoMCk7LypET00gdmlkZW8gb2JqZWN0LCB1bndyYXBwZWQgZnJvbSBqUXVlcnkqL1xuICAgICAgdmFyIHBsYXlCdG4gPSAkKHRoaXMpLmZpbmQoXCJidXR0b25cIik7XG4gICAgICAvLyB2YXIgZnVsbFNjcmVlbiA9ICQodGhpcykuZmluZChcInNwYW5cIik7XG4gICAgICB2YXIgY29udHJvbHMgPSAkKHRoaXMpLmZpbmQoXCIudmlkZW8tY29udHJvbHNcIik7XG5cbiAgICAgIHBsYXlCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocGxhaW5WaWRlby5wYXVzZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgIHZpZGVvLmdldCgwKS5wbGF5KCk7XG4gICAgICAgICAgJChwbGF5QnRuKS5jaGlsZHJlbignLnBsYXknKS5oaWRlKCk7XG4gICAgICAgICAgJChwbGF5QnRuKS5jaGlsZHJlbignLnBhdXNlJykuc2hvdygpO1xuICAgICAgICAgICQoY29udHJvbHMpLnRvZ2dsZUNsYXNzKCdoaWRlLWNvbnRyb2xzJyk7XG4gICAgICAgIH0gZWxzZXtcbiAgICAgICAgICB2aWRlby5nZXQoMCkucGF1c2UoKTtcbiAgICAgICAgICAkKHBsYXlCdG4pLmNoaWxkcmVuKCcucGxheScpLnNob3coKTtcbiAgICAgICAgICAkKHBsYXlCdG4pLmNoaWxkcmVuKCcucGF1c2UnKS5oaWRlKCk7XG4gICAgICAgICAgJChjb250cm9scykucmVtb3ZlQ2xhc3MoJ2hpZGUtY29udHJvbHMnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZpZGVvLm9uKCdlbmRlZCcsZnVuY3Rpb24oKXtcbiAgICAgICAgJChwbGF5QnRuKS5jaGlsZHJlbignLnBsYXknKS5zaG93KCk7XG4gICAgICAgICQocGxheUJ0bikuY2hpbGRyZW4oJy5wYXVzZScpLmhpZGUoKTtcbiAgICAgICAgJChjb250cm9scykucmVtb3ZlQ2xhc3MoJ2hpZGUtY29udHJvbHMnKTtcbiAgICAgICB9KTtcblxuICAgICAgLy8gZnVsbFNjcmVlbi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAvLyAgIGlmIChwbGFpblZpZGVvLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAvLyAgICAgcGxhaW5WaWRlby5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgLy8gICB9IGVsc2UgaWYgKHBsYWluVmlkZW8ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgIC8vICAgICBwbGFpblZpZGVvLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7IC8vIEZpcmVmb3hcbiAgICAgIC8vICAgfSBlbHNlIGlmIChwbGFpblZpZGVvLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAvLyAgICAgcGxhaW5WaWRlby53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpOyAvLyBDaHJvbWUgYW5kIFNhZmFyaVxuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcbiAgICB9KTtcblxuICB9KTtcblxuXG59KTtcblxufSx7fV19LHt9LFsxXSkiXX0=
